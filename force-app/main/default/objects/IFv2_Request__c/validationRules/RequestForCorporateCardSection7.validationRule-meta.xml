<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>RequestForCorporateCardSection7</fullName>
    <active>true</active>
    <description>This is used in Request for corporate card, to show error message when section 7 is filled without selecting Credit limits modification in Workflow Type.</description>
    <errorConditionFormula>and 
( 
(ispickval (Status__c , &apos;Draft&apos;)),Workflow__c =  $CustomMetadata.IFv2_Workflows__mdt.Requestsforcorporatecard.Name__c, 
 (NOT(INCLUDES(WorkflowType__c , &apos;Credit limits modification&apos;))), 
OR(
NOT(ISBLANK(TEXT( RequestExtension3__r.TotalCardLimitinR__c ))), 
NOT(ISBLANK(TEXT( RequestExtension3__r.TotalWithdrawalLimitinR__c ))), 
NOT(ISBLANK(TEXT( RequestExtension3__r.TotalCardLimitinUS__c ))), 
NOT(ISBLANK(TEXT( RequestExtension3__r.TotalWithdrawalLimitinUS__c ))), 
NOT(ISBLANK(TEXT( RequestExtension3__r.Temporarylimituntil__c   ))), 
NOT(ISBLANK(RequestExtension3__r.ReasonforChange__c))
)
)</errorConditionFormula>
    <errorMessage>Not allowed to enter data in section 7 without selecting the Credit limits modification value in Workflow Type field.</errorMessage>
</ValidationRule>
